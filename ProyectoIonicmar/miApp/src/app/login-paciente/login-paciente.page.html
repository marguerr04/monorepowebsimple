<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>login Paciente</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="form-container">
    <h1 class="login-title">Inicio sesión paciente</h1>

    <div class="logo">
      <img src="assets/img/VitaLog_v2.png" alt="Logo" />
    </div>

    <div class="list-container">
      <ion-item class="input-item">
        <ion-label position="floating">RUT:</ion-label>
        <ion-input 
          type="text" 
          [(ngModel)]="rut" 
          (ionInput)="formatearRUT()"
          placeholder="12.345.678-9" 
          required>
        </ion-input>
      </ion-item>

      <ion-item class="input-item">
        <ion-label position="floating">Correo:</ion-label><br>
        <ion-input type="email" [(ngModel)]="correo" placeholder="ejemplo@correo.com" requiered></ion-input>
      </ion-item>

      <ion-item class="input-item">
        <ion-label position="floating">Clave única:</ion-label><br>
        <ion-input type="password" [(ngModel)]="clave" placeholder="••••••" minlength="8" required></ion-input>
      </ion-item>

      <ion-button 
        expand="block" 
        class="login-button" 
        (click)="enviar()"
        [disabled]="!validarFormulario() || isLoading">
        <ion-spinner *ngIf="isLoading"></ion-spinner>
        {{ isLoading ? 'Verificando...' : 'Ingresar' }}
      </ion-button></div>
    <br><br>
  </div>

  <ion-alert
    [isOpen]="showAlert"
    header="Información"
    [message]="alertMessage"
    [buttons]="['OK']"
    (didDismiss)="showAlert = false">
  </ion-alert>
</ion-content>